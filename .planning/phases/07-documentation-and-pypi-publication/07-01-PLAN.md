---
phase: 07-documentation-and-pypi-publication
plan: "01"
type: execute
wave: 1
depends_on: []
files_modified:
  - .claude/skills/adbc-poolhouse-docs-author/SKILL.md
  - CLAUDE.md
autonomous: true
requirements:
  - TOOL-01
  - TOOL-02

must_haves:
  truths:
    - "The docs-author skill exists and contains audience, voice, workflow, and quality checklist sections"
    - "CLAUDE.md instructs plan-phase to include the skill in execution_context for all phases >= 7"
    - "The skill's quality checklist matches the CONTEXT.md verbatim 5-item list"
  artifacts:
    - path: ".claude/skills/adbc-poolhouse-docs-author/SKILL.md"
      provides: "Project-specific docs writing skill for adbc-poolhouse"
      contains: "adbc-poolhouse-docs-author"
    - path: "CLAUDE.md"
      provides: "Project quality gate instruction for plan-phase"
      contains: "phases >= 7"
  key_links:
    - from: "CLAUDE.md"
      to: ".claude/skills/adbc-poolhouse-docs-author/SKILL.md"
      via: "@-reference in CLAUDE.md"
      pattern: "@\\.claude/skills/adbc-poolhouse-docs-author/SKILL\\.md"
---

<objective>
Create the adbc-poolhouse docs-author Claude skill and establish CLAUDE.md as the project quality gate that enforces documentation as a completion requirement for all phases from Phase 7 onwards.

Purpose: TOOL-01 and TOOL-02 are prerequisites for the rest of Phase 7 — the skill defines the writing standard that all guide and docstring work must follow, and CLAUDE.md ensures future phases cannot skip documentation.
Output: `.claude/skills/adbc-poolhouse-docs-author/SKILL.md` + `CLAUDE.md`
</objective>

<execution_context>
@/Users/paul/.claude/get-shit-done/workflows/execute-plan.md
@/Users/paul/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/07-documentation-and-pypi-publication/07-CONTEXT.md
@.planning/phases/07-documentation-and-pypi-publication/07-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Create adbc-poolhouse-docs-author skill (TOOL-01)</name>
  <files>.claude/skills/adbc-poolhouse-docs-author/SKILL.md</files>
  <action>
Create `.claude/skills/adbc-poolhouse-docs-author/SKILL.md`. Mirror the cubano-docs-author structure exactly (YAML frontmatter, Audience, Voice, Workflow with steps, Quality checklist) but adapt for adbc-poolhouse.

YAML frontmatter:
```yaml
---
name: adbc-poolhouse-docs-author
description: Write adbc-poolhouse documentation. Applies project voice, Google-style docstrings, and humanizer pass. Use in PLAN.md execution_context for all phases >= 7.
allowed-tools:
  - Read
  - Write
  - Edit
  - Bash
  - Grep
  - Glob
---
```

**Audience section:** Python developers who use async DB connections — FastAPI, SQLAlchemy-async, asyncpg patterns. They are familiar with connection pools, DBAPI, and async Python. Do not over-explain ADBC internals. Do not over-explain Python basics.

**Voice section:**
- Tone: Direct and practical — like HTTPX or SQLAlchemy docs
- Perspective: Second person ("you")
- Pages: Self-contained with a "See also" section at the bottom for cross-references

**Workflow section — three steps:**

Step 1 — Classify the doc type:

Three types only (not full Diataxis):

| Type | User is... | Content | Path |
|------|-----------|---------|------|
| Quickstart | Getting started | Action, minimal | `docs/src/index.md` |
| How-to guide | Doing a specific task | Goal-oriented action | `docs/src/guides/` |
| API Reference | Working | Auto-generated — do not hand-write | `docs/src/reference/` |

Do NOT hand-write files in `docs/src/reference/` — `gen_ref_pages.py` auto-generates them from source.

Step 2 — Write per type:

**Quickstart** (`docs/src/index.md`):
- Install command, then a complete working code example (DuckDB, no credentials required)
- Prose only — not a doctest. Use plain code blocks (no `>>>` prompts)
- Validated in CI by running against a real DuckDB connection
- Under 5 minutes for a reader to follow from start to working pool

**How-to guides** (`docs/src/guides/`):
- Illustrative snippets showing the key concept — reader supplies their own setup
- Goal-oriented: one guide, one goal
- Use MkDocs tabbed content (`=== "Snowflake"` / `=== "DuckDB"`) for driver-specific variants
- All code examples must be realistic (no placeholder values that cannot run)

**Docstrings** (Google-style, applied to source files):
- All public classes + their public methods: class docstring + attribute docstrings (string immediately after field assignment for Pydantic config classes)
- Module-level docstrings for each public module (already exists in `__init__.py`)
- Public functions at module level: full Args/Returns/Raises sections
- Internal helpers (`_` prefix): excluded
- Examples block: key entry points only (`create_pool`, `DuckDBConfig`, `SnowflakeConfig`)
- Format:
  ```python
  def create_pool(config, *, pool_size=5, ...):
      """One-line summary.

      Longer description if needed.

      Args:
          config: A warehouse config model instance (e.g. ``DuckDBConfig``).
          pool_size: Number of connections to keep open. Default: 5.

      Returns:
          A configured ``sqlalchemy.pool.QueuePool`` ready for use.

      Raises:
          ImportError: If the required ADBC driver is not installed.
      """
  ```

Step 3 — Humanizer pass:

After drafting any new prose or a major rewrite (>50% of a page changed), read `@/Users/paul/.claude/skills/humanizer/SKILL.md` and apply the full checklist.

Patterns most common in technical docs — eliminate these:
- **Promotional language** — "powerful", "seamlessly", "robust", "comprehensive", "effortlessly"
- **AI vocabulary** — "delve", "leverage", "streamline", "it's worth noting", "ensure that"
- **Vague attributions** — "this allows you to", "this enables", "this ensures"
- **Superficial -ing openers** — "By defining X, you can Y" → rewrite directly
- **Rule of three** — listing things in threes for rhetorical effect
- **Em dash overuse** — max one per paragraph

**Quality checklist section:** (verbatim from CONTEXT.md)
- [ ] All new public symbols have Args/Returns/Raises
- [ ] Key entry points have an Examples block
- [ ] New consumer-facing behaviour reflected in the relevant guide
- [ ] `uv run mkdocs build --strict` passes
- [ ] Humanizer pass applied
  </action>
  <verify>
    <automated>grep -l "adbc-poolhouse-docs-author" /Users/paul/Documents/Dev/Personal/adbc-poolhouse/.claude/skills/adbc-poolhouse-docs-author/SKILL.md && grep -c "Quality checklist" /Users/paul/Documents/Dev/Personal/adbc-poolhouse/.claude/skills/adbc-poolhouse-docs-author/SKILL.md</automated>
  </verify>
  <done>SKILL.md exists at `.claude/skills/adbc-poolhouse-docs-author/SKILL.md` with YAML frontmatter, Audience, Voice, Workflow (3 steps), and Quality checklist (5 items from CONTEXT.md)</done>
</task>

<task type="auto">
  <name>Task 2: Create CLAUDE.md quality gate (TOOL-02)</name>
  <files>CLAUDE.md</files>
  <action>
Create `CLAUDE.md` at the project root. This file does not currently exist. Content:

```markdown
# adbc-poolhouse — Project Instructions

## Documentation Quality Gate

For all plans in phases >= 7, include the docs-author skill in `<execution_context>`:

```
@.claude/skills/adbc-poolhouse-docs-author/SKILL.md
```

Documentation is a completion requirement for every phase from Phase 7 onwards, not only plans explicitly labelled as documentation tasks. A phase is not complete until:

- All new public symbols have Google-style docstrings (Args/Returns/Raises)
- Key entry points have an Examples block
- Any new consumer-facing behaviour is reflected in the relevant guide
- `uv run mkdocs build --strict` passes
- Humanizer pass applied to all new or substantially rewritten prose
```

The @ reference must use a relative path (`.claude/skills/...`) not an absolute path, so it resolves correctly when plan executors use it in their `<execution_context>` blocks.
  </action>
  <verify>
    <automated>grep -c "phases >= 7" /Users/paul/Documents/Dev/Personal/adbc-poolhouse/CLAUDE.md && grep -c "adbc-poolhouse-docs-author" /Users/paul/Documents/Dev/Personal/adbc-poolhouse/CLAUDE.md</automated>
  </verify>
  <done>CLAUDE.md exists at repo root, references `@.claude/skills/adbc-poolhouse-docs-author/SKILL.md`, and states documentation is a completion requirement for all phases >= 7</done>
</task>

</tasks>

<verification>
```bash
# Verify skill file exists and has required sections
grep -c "Audience\|Voice\|Workflow\|Quality checklist" /Users/paul/Documents/Dev/Personal/adbc-poolhouse/.claude/skills/adbc-poolhouse-docs-author/SKILL.md
# Expected: 4

# Verify CLAUDE.md exists and references skill
cat /Users/paul/Documents/Dev/Personal/adbc-poolhouse/CLAUDE.md
```
</verification>

<success_criteria>
- `.claude/skills/adbc-poolhouse-docs-author/SKILL.md` exists with YAML frontmatter + Audience + Voice + Workflow (3-step) + Quality checklist (5 items)
- `CLAUDE.md` exists at repo root with `@.claude/skills/adbc-poolhouse-docs-author/SKILL.md` reference and "phases >= 7" instruction
- Skill quality checklist matches CONTEXT.md 5-item list verbatim
</success_criteria>

<output>
After completion, create `.planning/phases/07-documentation-and-pypi-publication/07-01-SUMMARY.md`
</output>
