---
phase: 03-config-layer
plan: 06
type: execute
wave: 3
depends_on:
  - 03-02
  - 03-03
  - 03-04
  - 03-05
files_modified:
  - src/adbc_poolhouse/__init__.py
autonomous: true
requirements:
  - CFG-01
  - CFG-02
  - CFG-03
  - CFG-04
  - CFG-05
  - CFG-06
  - CFG-07

must_haves:
  truths:
    - "from adbc_poolhouse import DuckDBConfig, SnowflakeConfig succeeds"
    - "from adbc_poolhouse import BigQueryConfig, PostgreSQLConfig, FlightSQLConfig succeeds"
    - "from adbc_poolhouse import DatabricksConfig, RedshiftConfig, TrinoConfig, MSSQLConfig, TeradataConfig succeeds"
    - "from adbc_poolhouse import BaseWarehouseConfig, WarehouseConfig succeeds"
    - "adbc_poolhouse.__all__ lists all 13 public names"
    - "import succeeds with only pydantic-settings installed (no ADBC driver needed)"
  artifacts:
    - path: "src/adbc_poolhouse/__init__.py"
      provides: "Public re-exports for all config models and base types"
      exports:
        - "WarehouseConfig"
        - "BaseWarehouseConfig"
        - "DuckDBConfig"
        - "SnowflakeConfig"
        - "BigQueryConfig"
        - "PostgreSQLConfig"
        - "FlightSQLConfig"
        - "DatabricksConfig"
        - "RedshiftConfig"
        - "TrinoConfig"
        - "MSSQLConfig"
        - "TeradataConfig"
  key_links:
    - from: "src/adbc_poolhouse/__init__.py"
      to: "src/adbc_poolhouse/_base_config.py"
      via: "from adbc_poolhouse._base_config import ..."
      pattern: "from adbc_poolhouse\\._base_config import"
    - from: "src/adbc_poolhouse/__init__.py"
      to: "src/adbc_poolhouse/_duckdb_config.py"
      via: "from adbc_poolhouse._duckdb_config import DuckDBConfig"
      pattern: "from adbc_poolhouse\\._duckdb_config import"
---

<objective>
Wire all config models into the public API by updating __init__.py with complete re-exports.

Purpose: Consumers import from `adbc_poolhouse` directly — `from adbc_poolhouse import DuckDBConfig`. The __init__.py must expose all 13 public names (11 config classes + BaseWarehouseConfig + WarehouseConfig Protocol) and confirm no ADBC driver is needed at import time.
Output: Updated __init__.py with full __all__ and re-export statements
</objective>

<execution_context>
@/Users/paul/.claude/get-shit-done/workflows/execute-plan.md
@/Users/paul/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/03-config-layer/03-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update __init__.py with all config model re-exports</name>
  <files>src/adbc_poolhouse/__init__.py</files>
  <action>
Replace the contents of `src/adbc_poolhouse/__init__.py` with the full public API re-exports.

The current file contains only:
```python
"""Connection pooling for ADBC drivers from typed warehouse configs."""
__all__ = []
```

Replace with:

```python
"""Connection pooling for ADBC drivers from typed warehouse configs."""

from adbc_poolhouse._base_config import BaseWarehouseConfig, WarehouseConfig
from adbc_poolhouse._bigquery_config import BigQueryConfig
from adbc_poolhouse._databricks_config import DatabricksConfig
from adbc_poolhouse._duckdb_config import DuckDBConfig
from adbc_poolhouse._flightsql_config import FlightSQLConfig
from adbc_poolhouse._mssql_config import MSSQLConfig
from adbc_poolhouse._postgresql_config import PostgreSQLConfig
from adbc_poolhouse._redshift_config import RedshiftConfig
from adbc_poolhouse._snowflake_config import SnowflakeConfig
from adbc_poolhouse._teradata_config import TeradataConfig
from adbc_poolhouse._trino_config import TrinoConfig

__all__ = [
    'WarehouseConfig',
    'BaseWarehouseConfig',
    'BigQueryConfig',
    'DatabricksConfig',
    'DuckDBConfig',
    'FlightSQLConfig',
    'MSSQLConfig',
    'PostgreSQLConfig',
    'RedshiftConfig',
    'SnowflakeConfig',
    'TeradataConfig',
    'TrinoConfig',
]
```

**Critical constraint:** All imports are from internal `_` prefixed modules. No direct ADBC driver imports exist — this file must be importable in an environment with only `pydantic-settings` installed (no `duckdb`, no `adbc-driver-snowflake`, etc.).

**Verification:** Run `python -c "import adbc_poolhouse"` in a minimal environment to confirm no driver import is triggered at module load time. The `prek` gate should also pass with the updated __init__.py.
  </action>
  <verify>
    <automated>cd /Users/paul/Documents/Dev/Personal/adbc-poolhouse && uv run python -c "
import adbc_poolhouse

# All expected names present
expected = [
    'WarehouseConfig', 'BaseWarehouseConfig',
    'BigQueryConfig', 'DatabricksConfig', 'DuckDBConfig', 'FlightSQLConfig',
    'MSSQLConfig', 'PostgreSQLConfig', 'RedshiftConfig', 'SnowflakeConfig',
    'TeradataConfig', 'TrinoConfig',
]
for name in expected:
    assert hasattr(adbc_poolhouse, name), f'Missing: {name}'
    assert name in adbc_poolhouse.__all__, f'Not in __all__: {name}'

# __all__ has correct count
assert len(adbc_poolhouse.__all__) == 12, f'Expected 12, got {len(adbc_poolhouse.__all__)}'

# Spot check: DuckDBConfig is usable
from adbc_poolhouse import DuckDBConfig, SnowflakeConfig, WarehouseConfig
d = DuckDBConfig()
assert isinstance(d, WarehouseConfig)

print('PASS: All 12 names present in __all__ and importable')
"</automated>
  </verify>
  <done>__init__.py exposes all 12 public names in __all__; `from adbc_poolhouse import DuckDBConfig` succeeds; module import requires no ADBC driver.</done>
</task>

</tasks>

<verification>
```bash
cd /Users/paul/Documents/Dev/Personal/adbc-poolhouse
# Full import verification
uv run python -c "
from adbc_poolhouse import (
    WarehouseConfig, BaseWarehouseConfig,
    DuckDBConfig, SnowflakeConfig,
    BigQueryConfig, PostgreSQLConfig, FlightSQLConfig,
    DatabricksConfig, RedshiftConfig, TrinoConfig, MSSQLConfig, TeradataConfig,
)
from pydantic import ValidationError

# Core ROADMAP success criterion 4: import without ADBC driver
# (pydantic-settings is the only required dep for this import)
print('PASS: All config models importable from adbc_poolhouse')

# ROADMAP success criterion 1: DuckDBConfig in-memory validation
try:
    DuckDBConfig(database=':memory:', pool_size=2)
    print('FAIL: should raise')
except ValidationError:
    print('PASS: in-memory pool_size=2 raises ValidationError')

# ROADMAP success criterion 2: SnowflakeConfig private key exclusion
from pathlib import Path
try:
    SnowflakeConfig(account='x', private_key_path=Path('/tmp/k'), private_key_pem='PEM')
    print('FAIL: should raise')
except ValidationError:
    print('PASS: SnowflakeConfig private key mutual exclusion works')
"

# prek gate
uv run prek 2>&1 | tail -5
```
</verification>

<success_criteria>
- `src/adbc_poolhouse/__init__.py` contains 12 names in `__all__`
- All 12 names are importable via `from adbc_poolhouse import ...`
- `import adbc_poolhouse` succeeds with only pydantic-settings installed (no warehouse drivers)
- ROADMAP Phase 3 success criteria 1, 2, and 4 all pass (criteria 3 and 5 verified in Plan 07 TDD)
- prek passes
</success_criteria>

<output>
After completion, create `.planning/phases/03-config-layer/03-06-SUMMARY.md` with:
- Confirmation that all 12 names are exported
- Result of the no-ADBC-driver import test
- prek status
</output>
