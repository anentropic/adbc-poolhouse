---
phase: 08-review-and-improve-docs
plan: "06"
type: execute
wave: 3
depends_on: ["08-02", "08-03", "08-04", "08-05"]
files_modified:
  - mkdocs.yml
autonomous: true
requirements: []

must_haves:
  truths:
    - "mkdocs.yml nav has a Warehouse Guides sub-section under Guides with all 10 warehouse pages"
    - "uv run mkdocs build --strict exits 0 with all nav entries resolving to existing files"
    - "All ten warehouse guide pages appear in the built site nav"
  artifacts:
    - path: "mkdocs.yml"
      provides: "Updated nav with Warehouse Guides sub-section"
      contains: "Warehouse Guides"
  key_links:
    - from: "mkdocs.yml nav"
      to: "docs/src/guides/duckdb.md"
      via: "nav: Warehouse Guides: DuckDB"
      pattern: "duckdb\\.md"
    - from: "mkdocs.yml nav"
      to: "docs/src/guides/teradata.md"
      via: "nav: Warehouse Guides: Teradata"
      pattern: "teradata\\.md"
---

<objective>
Update mkdocs.yml nav to include the Warehouse Guides sub-section with all 10
warehouse pages, then run the full docs build to verify everything passes.

Purpose: Without nav entries, the warehouse guide pages are not linked from the
site navigation. This is the final integration step — all pages from Plans 02-05
must exist before this plan runs.

Output: Updated mkdocs.yml; confirmed passing mkdocs build --strict.
</objective>

<execution_context>
@/Users/paul/.claude/get-shit-done/workflows/execute-plan.md
@/Users/paul/.claude/get-shit-done/templates/summary.md
@.claude/skills/adbc-poolhouse-docs-author/SKILL.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@mkdocs.yml
@.planning/phases/08-review-and-improve-docs/08-04-SUMMARY.md
@.planning/phases/08-review-and-improve-docs/08-05-SUMMARY.md

<interfaces>
<!-- Current mkdocs.yml nav section -->
nav:
  - Getting Started: index.md
  - Guides:
    - Pool Lifecycle: guides/pool-lifecycle.md
    - Consumer Patterns: guides/consumer-patterns.md
    - Configuration Reference: guides/configuration.md
    - Snowflake Guide: guides/snowflake.md
  - API Reference: reference/
  - Changelog: changelog.md

<!-- Target nav structure (from RESEARCH.md Pattern 3) -->
nav:
  - Getting Started: index.md
  - Guides:
    - Pool Lifecycle: guides/pool-lifecycle.md
    - Consumer Patterns: guides/consumer-patterns.md
    - Configuration Reference: guides/configuration.md
    - Warehouse Guides:
      - Snowflake: guides/snowflake.md
      - DuckDB: guides/duckdb.md
      - BigQuery: guides/bigquery.md
      - PostgreSQL: guides/postgresql.md
      - FlightSQL: guides/flightsql.md
      - Databricks: guides/databricks.md
      - Redshift: guides/redshift.md
      - Trino: guides/trino.md
      - MSSQL: guides/mssql.md
      - Teradata: guides/teradata.md
  - API Reference: reference/
  - Changelog: changelog.md
</interfaces>
</context>

<tasks>

<task type="auto">
  <name>Task 1: Update mkdocs.yml nav and verify docs build passes</name>
  <files>mkdocs.yml</files>
  <action>
**Step 1 — Verify all guide files exist before updating nav.**

Check that all ten warehouse guides exist:
```bash
ls docs/src/guides/
```

Expected: configuration.md, consumer-patterns.md, databricks.md, duckdb.md,
bigquery.md, flightsql.md, mssql.md, pool-lifecycle.md, postgresql.md,
redshift.md, snowflake.md, teradata.md, trino.md

If any file is missing, DO NOT update mkdocs.yml — mkdocs strict mode treats
missing nav files as errors. Instead, flag the missing file in the summary.

**Step 2 — Update the nav section in mkdocs.yml.**

Replace the current nav block with the target structure from the interfaces section
above. Key change: "Snowflake Guide: guides/snowflake.md" becomes a sub-item in
a new "Warehouse Guides:" section with all 10 warehouses.

The exact YAML indentation matters — use 2 spaces. mkdocs.yml uses 2-space
indentation throughout.

**Step 3 — Run mkdocs build --strict.**

```bash
uv run mkdocs build --strict
```

If the build fails:

- "Doc file ... does not exist": a nav entry points to a missing file. Check
  the file exists in docs/src/guides/ before proceeding.
- "link ... does not point to a valid file": a cross-reference in a guide page
  uses a wrong path. Fix the cross-reference in the relevant guide file, not
  in mkdocs.yml.
- "Config value 'nav': ...": YAML syntax error. Fix the indentation in mkdocs.yml.

Iterate until `uv run mkdocs build --strict` exits 0.

**Step 4 — Run prek to confirm linting passes.**

```bash
uv run prek
```

If prek catches issues in any Python source files modified during this phase
(close_pool, managed_pool), fix them before proceeding.
  </action>
  <verify>
    <automated>cd /Users/paul/Documents/Dev/Personal/adbc-poolhouse && uv run mkdocs build --strict 2>&1 | tail -5 && echo "Exit code: $?"</automated>
  </verify>
  <done>mkdocs.yml nav has Warehouse Guides sub-section with all 10 warehouses; uv run mkdocs build --strict exits 0; no nav entry points to a missing file</done>
</task>

</tasks>

<verification>
```bash
cd /Users/paul/Documents/Dev/Personal/adbc-poolhouse && \
  uv run mkdocs build --strict && \
  echo "DOCS BUILD PASSED" && \
  grep -c "teradata\|databricks\|redshift\|trino\|mssql\|duckdb\|bigquery\|postgresql\|flightsql" mkdocs.yml && \
  echo "warehouse guide entries above should be >= 9"
```

Final check — confirm no private attribute references remain anywhere in docs:
```bash
grep -rn "_adbc_source" docs/src/ | wc -l && echo "count above must be 0"
```
</verification>

<success_criteria>
- mkdocs.yml nav has "Warehouse Guides" sub-section with 10 entries (Snowflake, DuckDB, BigQuery, PostgreSQL, FlightSQL, Databricks, Redshift, Trino, MSSQL, Teradata)
- uv run mkdocs build --strict exits 0
- No _adbc_source references in docs/src/
- prek passes
</success_criteria>

<output>
After completion, create `.planning/phases/08-review-and-improve-docs/08-06-SUMMARY.md`
</output>
